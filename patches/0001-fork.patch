From 3db7477ab51b5c21802151bb2e185af8ec923472 Mon Sep 17 00:00:00 2001
From: Ian Wahbe <ian@wahbe.com>
Date: Tue, 4 Apr 2023 09:19:57 -0700
Subject: [PATCH] fork

---
 pkg/akamai/errors.go                               |  3 +--
 pkg/providers/property/resource_akamai_property.go | 10 ++++++----
 2 files changed, 7 insertions(+), 6 deletions(-)

diff --git a/pkg/akamai/errors.go b/pkg/akamai/errors.go
index fb831b27..0b4485c7 100644
--- a/pkg/akamai/errors.go
+++ b/pkg/akamai/errors.go
@@ -32,8 +32,7 @@ var (
 	// Terraform now supports section aliases
 	// TODO: Add alias example to the examples directory
 	NoticeDeprecatedUseAlias = func(n string) string {
-		return fmt.Sprintf(`The setting %q has been deprecated. See:
-	https://www.terraform.io/docs/configuration/providers.html#alias-multiple-provider-configurations`, n)
+		return fmt.Sprintf(`The setting %q has been deprecated.`, n)
 	}
 )
 
diff --git a/pkg/providers/property/resource_akamai_property.go b/pkg/providers/property/resource_akamai_property.go
index 71b3962b..f4aa1c0d 100644
--- a/pkg/providers/property/resource_akamai_property.go
+++ b/pkg/providers/property/resource_akamai_property.go
@@ -504,10 +504,11 @@ func resourcePropertyCreate(ctx context.Context, d *schema.ResourceData, m inter
 	// Save minimum state BEFORE moving on
 	d.SetId(PropertyID)
 	attrs := map[string]interface{}{
-		"group_id":    GroupID,
-		"contract_id": ContractID,
-		"product_id":  ProductID,
-		"product":     ProductID,
+		"group_id":       GroupID,
+		"contract_id":    ContractID,
+		"product_id":     ProductID,
+		"product":        ProductID,
+		"latest_version": 1, // we are defaulting to 1 here in the create like we do below in the property creation
 	}
 	if err := rdSetAttrs(ctx, d, attrs); err != nil {
 		return diag.FromErr(err)
@@ -732,6 +733,7 @@ func resourcePropertyUpdate(ctx context.Context, d *schema.ResourceData, m inter
 
 	var propertyVersion int
 	if v, ok := d.GetOk("read_version"); ok && v.(int) != 0 {
+		property.LatestVersion = v.(int)
 		propertyVersion = v.(int)
 	} else {
 		propertyVersion = property.LatestVersion
-- 
2.39.1

